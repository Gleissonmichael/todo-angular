<div>
  <ul class="todos">
    <li *ngFor="let todo of todos" class="container-sm mb-3">
      <a routerLink="/detail/{{ todo.id }}">
        <span class="badge">{{ todo.id }}</span> {{ todo.name }}
      </a>
      <button
        type="button"
        class="btn btn-danger me-2"
        title="delete todo"
        (click)="delete(todo)"
      >
        Excluir
      </button>
      <button
        type="button"
        class="btn btn-success"
        title="finish todo"
      >
        Finalizar
      </button>
    </li>
  </ul>

  <div class="container">
    <h2>Criar nova tarefa</h2>
    <form [formGroup]="todoForm">
      <div class="row-input">
        <label for="new-todo" class="form-label">Nome:</label>
        <input
          id="new-todo"
          class="form-control"
          formControlName="name"
          maxlength="100"
        />
        <span
          class="alert"
          *ngIf="
            todoForm.get('name')?.errors &&
            (todoForm.get('name')?.touched || todoForm.get('name')?.dirty)
          "
        >
          Nome é obrigatório
        </span>
      </div>
      <div class="row-input">
        <label for="new-todo" class="form-label">Categoria</label>
        <input
          id="new-todo"
          class="form-control"
          formControlName="category"
          maxlength="30"
        />
        <span
          class="alert"
          *ngIf="
            todoForm.get('category')?.errors &&
            (todoForm.get('category')?.touched ||
              todoForm.get('category')?.dirty)
          "
        >
          Categoria é obrigatória
        </span>
      </div>

      <button
        type="button"
        class="btn btn-success"
        [disabled]="todoForm.invalid"
        (click)="add()"
      >
        Criar
      </button>
    </form>
  </div>
</div>
